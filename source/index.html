<!DOCTYPE html>
<html>

    <head>
        <!-- Things from mediapipe -->
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision/vision_bundle.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
        <!-- Script for p5.js, latest as of 18/05/24 -->
        <script src="js/p5.js"></script>
        <!-- The scripts (including mediapipe module) -->
        <script type="module" src="mediapipe.js"></script>
        <script src="js/utils.js"></script>
        <script src="js/perlin.js"></script>
        <script src="js/wave.js"></script>
        <script src="js/chunk.js"></script>
        <script src="js/terrain.js"></script>
        <script src="js/hand.js"></script>
        <script src="js/project.js"></script>
        <script src="js/script.js"></script>
        <!-- And styles -->
        <link rel="stylesheet" href="style.css">
    </head>

    <body onload="onload()" onresize="onresize()">

        <!-- These elements are required for webcam functionalities
            and video feedback. All of the following sit on an overlay. -->
        <div id="tutorial" class="tutorialOverlay">

            <h1>Welcome!</h1>
            <p>Here is a little manual of the three gestures you can use to interact with the webpage.</p>
            <p>Headphones are recommended, as the soundwaves will be spatialized.</p>

            <div style="display:inline-block;vertical-align:top;">
                <img src="images/hand_fist_animation.gif" alt="grab" style="width: 50%;">
            </div>
            <div style="display:inline-block;">
                <h2>Grab: close your fist as if you were to drag the terrain and move it around!</h2>
                <p>You can move around the terrain freely, as it will be infinetely generated. You can use both hands to go faster</p>
            </div>

            <br>

            <div style="display:inline-block;vertical-align:top;">
                <img src="images/hand_pointing_animation.gif" alt="pointing" style="width: 50%;">
            </div>
            <div style="display:inline-block;">
                <h2>Point up: point your index up to draw shapes on to the terrain.</h2>
                <p>Draw complex shapes on the terrain by pointing up with your finger. The soundwaves will be generated by projecting the shape onto the underlying terrain</p>
            </div>

            <br>

            <div style="display:inline-block;vertical-align:top;">
                <img src="images/hand_thumbdown_animation.gif" alt="thumbdown" style="width: 50%;">
            </div>
            <div style="display:inline-block;">
                <h2>Thumb down: point your thumb down and delete the waves that you don't like</h2>
                <p>You can delete soundwaves that you don't like by moving your hand over them while pointing your thumb down.</p>
            </div>

            <button id="webcamButton" class="readyButton">OK, I'M READY!</button>
        </div>
        <video id="webcam" class="overlay" style="height: 25%;" autoplay playsinline></video>
        <canvas id="landmarksCanvas" class="overlay"></canvas>

        <!-- The main interaction happens here -->
        <!-- p5.js will automatically append a canvas -->
        <main></main>

    </body>
</html>